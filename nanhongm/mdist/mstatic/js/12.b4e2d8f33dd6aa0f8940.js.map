{"version":3,"sources":["webpack:///src/pages/commoditydetails.vue","webpack:///./src/pages/commoditydetails.vue?1321","webpack:///./src/pages/commoditydetails.vue","webpack:///src/components/evaluate.vue","webpack:///./src/components/evaluate.vue?33b2","webpack:///./src/components/evaluate.vue"],"names":["commoditydetails","name","data","styleindex","color","type","detevas","detevanum","shopshowinfo","evainfo","goodsinfo","eva","filter","class_id","fids","updated","imgs","document","getElementById","getElementsByTagName","i","length","style","width","height","created","body","scrollTop","documentElement","this","$route","query","requst","methods","_this","$axios","post","gid","then","res","console","log","goods_images","image_url","goods_commtent","lenth","goods_format","push","format_children","format_name","tocar","_this2","$toast","fail","userid","JSON","parse","sessionStorage","getItem","goodsid","goods_info","goods_id","join","userId","num","code","success","setTimeout","$router","path","isstyle","index","swiper","item","curtype","curcolor","indexs","items","id","$forceUpdate","deteva","e","change","nums","pic","components","vue_awesome_swiper","swiperSlide","evaluate","pages_commoditydetails","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","autoplay","indicator-color","_l","key","backgroundImage","httpUrl","backgroundSize","backgroundRepeat","backgroundPosition","_v","_s","goods_name","class","on","click","$event","goods_price","goods_discount","goods_number","directives","rawName","value","expression","domProps","innerHTML","goods_contents","user","bd_headimg","user_image","user_name","user_nickname","created_time","content","_e","spec","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","something","evaindex","fileList","headimg","radio","props","goodsinfos","Object","close","String","default","changeevali","beforedelete","detail","afterRead","file","status","message","FormData","append","regtext","text","regwords","replace","send","$dialog","confirm","title","img","goods","oe_goods_id","order_id","oderid","star","image","$emit","catch","components_evaluate","_m","order_img","order_name","order_price","src","alt","sel","data-indexs","placeholder","blur","input","target","composing","before-delete","after-read","multiple","max-count","model","callback","$$v"],"mappings":"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","file":"mstatic/js/12.b4e2d8f33dd6aa0f8940.js","sourcesContent":["<template>\r\n  <div class=\"commoditydetails\">\r\n    <div class=\"goodsshow\">\r\n      <div class=\"swiperbox\">\r\n        <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"#2482C8\">\r\n          <van-swipe-item v-for=\"(item, index) in goodsinfo.goods_images\" :key=\"index\">\r\n            <div\r\n              class=\"mainpic\"\r\n              :style=\"{backgroundImage: 'url('  +httpUrl+ item.image_url+  ')',\r\n             backgroundSize:'cover',\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundPosition:'center'\r\n            }\"\r\n            ></div>\r\n          </van-swipe-item>\r\n        </van-swipe>\r\n      </div>\r\n      <div class=\"gs-right\">\r\n        <p class=\"name\">{{goodsinfo.goods_info.goods_name}}</p>\r\n        <!-- <div class=\"colorbox select\">\r\n          <p class=\"text\">颜色</p>\r\n          <div class=\"selection\">\r\n            <section\r\n              class=\"section\"\r\n              v-for=\"(item, index) in goodsinfo.color\"\r\n              :key=\"index\"\r\n              :class=\"color==index?'cur':''\"\r\n              @click=\"curcolor(index)\"\r\n            >\r\n              <span class=\"span\"></span>\r\n              <span class=\"color\">{{item}}</span>\r\n            </section>\r\n          </div>\r\n        </div>-->\r\n        <div class=\"typebox select\">\r\n          <div class=\"selectbox\" v-for=\"(item, indexs) in goodsinfo.goods_format\" :key=\"indexs\">\r\n            <p class=\"text\">{{item.format_name}}</p>\r\n            <div class=\"selection\">\r\n              <section\r\n                class=\"section\"\r\n                v-for=\"(items, i) in item.format_children\"\r\n                :key=\"i\"\r\n                :class=\"color[indexs]==i?'cur':''\"\r\n                @click=\"curcolor(indexs,i,items)\"\r\n              >\r\n                <span class=\"span\"></span>\r\n                <span class=\"type\">{{items.format_name}}</span>\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <p class=\"price\">￥{{goodsinfo.goods_info.goods_price}}</p>\r\n        <p class=\"addcar\" @click=\"tocar\">加入购物车</p>\r\n        <p class=\"info\">\r\n          <span class=\"sale\">销量：{{goodsinfo.goods_info.goods_discount}}</span>\r\n          <span>/</span>\r\n          <span class=\"stock\">库存{{goodsinfo.goods_info.goods_number}}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <div class=\"det-eva\">\r\n      <div class=\"title\">\r\n        <p class=\"text\" @click=\"deteva(0)\" :class=\"detevas==false?'deteva':''\">产品详情</p>\r\n        <p class=\"text\" @click=\"deteva(1)\" :class=\"detevas==true?'deteva':''\">用户评价</p>\r\n      </div>\r\n      <!-- 详情 -->\r\n      <div class=\"det detevabox\" v-show=\"detevanum==0\">\r\n        <div class=\"detinfos scorll\" id=\"infos-cont\" v-html=\"goodsinfo.goods_info.goods_contents\"></div>\r\n      </div>\r\n      <!-- 评价 -->\r\n      <div class=\"eva detevabox\" v-show=\"detevanum==1\">\r\n        <div class=\"evainfos scorll\">\r\n          <ul class=\"evalist\">\r\n            <li class=\"evali\" v-for=\"(item, index) in eva\" :key=\"index\">\r\n              <div class=\"evali-left\">\r\n                <div\r\n                  v-if=\" item.user.bd_headimg\"\r\n                  class=\"mainpic\"\r\n                  :style=\"{backgroundImage: 'url(' +httpUrl+ item.user.bd_headimg+ ')',\r\n                backgroundSize:'cover',\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundPosition:'center'\r\n                 }\"\r\n                ></div>\r\n                <div\r\n                  v-else\r\n                  class=\"mainpic\"\r\n                  :style=\"{backgroundImage: 'url(' +httpUrl+  item.user.user_image+ ')',\r\n                backgroundSize:'cover',\r\n                backgroundRepeat: 'no-repeat',\r\n                backgroundPosition:'center'\r\n                 }\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"evali-right\">\r\n                <p class=\"name\" v-if=\"item.user.user_name\">{{item.user.user_name}}</p>\r\n                <p class=\"name\" v-else>{{item.user.user_nickname}}</p>\r\n                <p class=\"time\">{{item.created_time}}</p>\r\n                <p\r\n                  class=\"cont\"\r\n                  @click=\"isstyle(index)\"\r\n                  :class=\"styleindex==index?'open':''\"\r\n                  v-html=\"item.content\"\r\n                ></p>\r\n                <div class=\"pics\" v-if=\"item.image_url\">\r\n                  <div class=\"slide\" v-for=\"(items, index) in item.image_url\" :key=\"index\">\r\n                    <div\r\n                      class=\"showpic\"\r\n                      :style=\"{backgroundImage: 'url(' +httpUrl+ items+ ')',\r\n                        backgroundSize:'cover',\r\n                        backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition:'center'\r\n                     }\"\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n                <p class=\"ctype\">\r\n                  <span>{{item.spec}}</span>\r\n                </p>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport evaluate from \"../components/evaluate\";\r\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\r\nexport default {\r\n  name: \"commoditydetails\",\r\n  data() {\r\n    return {\r\n      styleindex: 0,\r\n\r\n      color: [],\r\n      type: 0,\r\n      detevas: false,\r\n      detevanum: 0,\r\n      shopshowinfo: [],\r\n      evainfo: {},\r\n      goodsinfo: [],\r\n      eva: [],\r\n      filter: [],\r\n      class_id: \"\",\r\n      fids: []\r\n    };\r\n  },\r\n  updated() {\r\n    let a = document.getElementById(\"infos-cont\");\r\n    let imgs = a.getElementsByTagName(\"img\");\r\n    for (let i = 0; i < imgs.length; i++) {\r\n      imgs[i].style.width = \"100%\";\r\n      imgs[i].style.height = \"100%\";\r\n    }\r\n  },\r\n  created() {\r\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n    this.class_id = this.$route.query.class_id;\r\n    this.requst(this.class_id);\r\n  },\r\n  methods: {\r\n    // 详情\r\n    requst(class_id) {\r\n      this.$axios\r\n        .post(\"/index/shop/getGoodsInfo\", { gid: class_id })\r\n        .then(res => {\r\n          console.log(res);\r\n          this.goodsinfo = res.data.data;\r\n          this.shopshowinfo = this.goodsinfo.goods_images[0].image_url;\r\n          this.eva = this.goodsinfo.goods_commtent;\r\n          for (\r\n            let i = 0, lenth = this.goodsinfo.goods_format.length;\r\n            i < lenth;\r\n            i++\r\n          ) {\r\n            this.fids.push([\r\n              this.goodsinfo.goods_format[i].format_children[0].format_name\r\n            ]);\r\n            this.color.push([]);\r\n          }\r\n        });\r\n    },\r\n    tocar() {\r\n      console.log(this.fids);\r\n      if (this.fids.length == 0) {\r\n        this.$toast.fail(\"您未选择商品属性！\");\r\n      } else {\r\n        let userid = JSON.parse(sessionStorage.getItem(\"vuex\")).userid,\r\n          goodsid = this.goodsinfo.goods_info.goods_id,\r\n          fids = this.fids.join(\",\");\r\n        this.$axios\r\n          .post(\"/index/shop/addShoppingCart\", {\r\n            userId: userid,\r\n            gid: goodsid,\r\n            num: 1,\r\n            fids: fids\r\n          })\r\n          .then(res => {\r\n            // console.log(res);\r\n            if (res.data.code == 200) {\r\n              this.$toast.success(\"加入购物车成功\");\r\n              setTimeout(() => {\r\n                // 跳转至购物车\r\n                this.$router.push({ path: \"/shoppingcar\" });\r\n              }, 500);\r\n            } else {\r\n              this.$toast.fail(\"添加失败\");\r\n            }\r\n          });\r\n      }\r\n    },\r\n    // open\r\n    isstyle(index) {\r\n      this.styleindex = index;\r\n    },\r\n    swiper(index, item) {\r\n      this.shopshowinfo = item;\r\n    },\r\n    curtype(index) {\r\n      this.type = index;\r\n    },\r\n    curcolor(index, indexs, items) {\r\n      let id = items.format_name;\r\n      this.fids[index] = id;\r\n      this.color[index] = indexs;\r\n      console.log(this.fids);\r\n      \r\n      this.$forceUpdate();\r\n    },\r\n    deteva(e) {\r\n      this.detevas = !this.detevas;\r\n      this.detevanum = e;\r\n      console.log(e);\r\n    },\r\n    change(e) {\r\n      let nums = this.eva;\r\n      let res = nums.filter(nums => {\r\n        return nums.code == e;\r\n      });\r\n      this.filter = res;\r\n    },\r\n    // 只看有图\r\n    pic() {\r\n      let nums = this.eva;\r\n      let res = nums.filter(nums => {\r\n        return nums.imgs;\r\n      });\r\n      this.filter = res;\r\n    }\r\n  },\r\n  components: { swiper, swiperSlide, evaluate }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.commoditydetails {\r\n  width: 100%;\r\n  position: relative;\r\n  .goodsshow {\r\n    width: 100%;\r\n    .swiperbox {\r\n      border-top: 1px solid #eeeeee;\r\n      border-bottom: 1px solid #eeeeee;\r\n      width: 100%;\r\n      height: 670px;\r\n      .my-swipe {\r\n        width: 100%;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        padding: 70px 0;\r\n        .mainpic {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n    .gs-right {\r\n      width: 100%;\r\n      // background: brown;\r\n      box-sizing: border-box;\r\n      padding: 75px 25px 0 25px;\r\n      .name {\r\n        color: rgba(51, 51, 51, 1);\r\n        font-size: 30px;\r\n        box-sizing: border-box;\r\n        padding: 50px 0 15px 0;\r\n        border-bottom: 1px dashed #e5e5e5;\r\n      }\r\n\r\n      .bot {\r\n        box-sizing: border-box;\r\n        padding: 15px 0;\r\n      }\r\n      .select {\r\n        // background: olive;\r\n        width: 100%;\r\n\r\n        .text {\r\n          color: #666666;\r\n          font-size: 24px;\r\n          box-sizing: border-box;\r\n          padding: 20px 0 20px 0;\r\n        }\r\n        .selection {\r\n          width: 100%;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          flex-wrap: wrap;\r\n          .section {\r\n            width: 48%;\r\n            height: 70px;\r\n            background: rgba(255, 255, 255, 1);\r\n            border: 1px solid rgba(229, 229, 229, 1);\r\n            color: rgba(123, 123, 123, 1);\r\n            text-align: center;\r\n            line-height: 70px;\r\n            margin-bottom: 4%;\r\n            .span {\r\n              display: inline-block;\r\n              width: 12px;\r\n              height: 12px;\r\n              background: rgba(229, 229, 229, 1);\r\n              border-radius: 50%;\r\n              position: relative;\r\n              left: -50px;\r\n            }\r\n          }\r\n          .cur {\r\n            transition: all 0.2s ease-in;\r\n            border: 1px solid rgba(235, 0, 40, 1);\r\n            .span {\r\n              transition: all 0.2s ease-in;\r\n              background: rgba(235, 0, 40, 1);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .price {\r\n        border-top: 1px dashed #e5e5e5;\r\n        color: rgba(51, 51, 51, 1);\r\n        font-size: 60px;\r\n      }\r\n      .addcar {\r\n        cursor: pointer;\r\n        width: 255px;\r\n        height: 70px;\r\n        background: rgba(235, 0, 40, 1);\r\n        font-size: 24px;\r\n        color: white;\r\n        text-align: center;\r\n        line-height: 70px;\r\n        margin: 21px 0 52px 0;\r\n      }\r\n      .info {\r\n        font-size: 24px;\r\n        color: #333333;\r\n      }\r\n    }\r\n  }\r\n  .det-eva {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    padding: 50px 25px;\r\n    .title {\r\n      width: 100%;\r\n      height: 60px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .text {\r\n        text-align: center;\r\n        width: 50%;\r\n        background: #ececec;\r\n        height: 60px;\r\n        font-size: 24px;\r\n        color: rgba(51, 51, 51, 1);\r\n        line-height: 60px;\r\n      }\r\n      .deteva {\r\n        background: #2482c8;\r\n        color: white;\r\n      }\r\n    }\r\n    .detevabox {\r\n      width: 100%;\r\n      padding: 25px 0;\r\n      background: rgba(255, 255, 255, 1);\r\n    }\r\n    .evainfos {\r\n      width: 100%;\r\n      height: 100%;\r\n      .evalist {\r\n        width: 100%;\r\n        height: 100%;\r\n        .evali {\r\n          box-sizing: border-box;\r\n          padding: 50px 0;\r\n          border-bottom: 1px solid rgba(204, 204, 204, 1);\r\n          display: flex;\r\n          justify-content: flex-start;\r\n          .evali-left {\r\n            width: 120px;\r\n            // height: 558px;\r\n            .mainpic {\r\n              width: 117px;\r\n              height: 117px;\r\n              border-radius: 50%;\r\n            }\r\n          }\r\n          .evali-right {\r\n            width: calc(100% - 120px);\r\n            box-sizing: border-box;\r\n            padding-left: 25px;\r\n            // background: pink;\r\n            .name {\r\n              color: #333333;\r\n              font-size: 36px;\r\n            }\r\n            .time {\r\n              padding-top: 10px;\r\n              font-size: 24px;\r\n              color: rgba(153, 153, 153, 1);\r\n            }\r\n            .cont {\r\n              box-sizing: border-box;\r\n              padding: 45px 0 0px 0;\r\n              font-size: 30px;\r\n              line-height: 45px;\r\n              width: 100%;\r\n              overflow: hidden;\r\n              display: -webkit-box;\r\n              -webkit-line-clamp: 3;\r\n              -webkit-box-orient: vertical;\r\n              word-break: break-all;\r\n            }\r\n            .open {\r\n              -webkit-line-clamp: 9999999;\r\n            }\r\n            .pics {\r\n              margin-top: 20px;\r\n              width: 100%;\r\n              display: flex;\r\n              justify-content: space-between;\r\n              .slide {\r\n                width: 49%;\r\n                height: 285px;\r\n                .showpic {\r\n                  width: 100%;\r\n                  height: 100%;\r\n                }\r\n              }\r\n            }\r\n            .ctype {\r\n              box-sizing: border-box;\r\n              padding-top: 20px;\r\n              color: rgba(153, 153, 153, 1);\r\n              font-size: 18px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/commoditydetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commoditydetails\"},[_c('div',{staticClass:\"goodsshow\"},[_c('div',{staticClass:\"swiperbox\"},[_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000,\"indicator-color\":\"#2482C8\"}},_vm._l((_vm.goodsinfo.goods_images),function(item,index){return _c('van-swipe-item',{key:index},[_c('div',{staticClass:\"mainpic\",style:({backgroundImage: 'url('  +_vm.httpUrl+ item.image_url+  ')',\n           backgroundSize:'cover',\n          backgroundRepeat: 'no-repeat',\n          backgroundPosition:'center'\n          })})])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"gs-right\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.goodsinfo.goods_info.goods_name))]),_vm._v(\" \"),_c('div',{staticClass:\"typebox select\"},_vm._l((_vm.goodsinfo.goods_format),function(item,indexs){return _c('div',{key:indexs,staticClass:\"selectbox\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(item.format_name))]),_vm._v(\" \"),_c('div',{staticClass:\"selection\"},_vm._l((item.format_children),function(items,i){return _c('section',{key:i,staticClass:\"section\",class:_vm.color[indexs]==i?'cur':'',on:{\"click\":function($event){return _vm.curcolor(indexs,i,items)}}},[_c('span',{staticClass:\"span\"}),_vm._v(\" \"),_c('span',{staticClass:\"type\"},[_vm._v(_vm._s(items.format_name))])])}),0)])}),0),_vm._v(\" \"),_c('p',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.goodsinfo.goods_info.goods_price))]),_vm._v(\" \"),_c('p',{staticClass:\"addcar\",on:{\"click\":_vm.tocar}},[_vm._v(\"加入购物车\")]),_vm._v(\" \"),_c('p',{staticClass:\"info\"},[_c('span',{staticClass:\"sale\"},[_vm._v(\"销量：\"+_vm._s(_vm.goodsinfo.goods_info.goods_discount))]),_vm._v(\" \"),_c('span',[_vm._v(\"/\")]),_vm._v(\" \"),_c('span',{staticClass:\"stock\"},[_vm._v(\"库存\"+_vm._s(_vm.goodsinfo.goods_info.goods_number))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"det-eva\"},[_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"text\",class:_vm.detevas==false?'deteva':'',on:{\"click\":function($event){return _vm.deteva(0)}}},[_vm._v(\"产品详情\")]),_vm._v(\" \"),_c('p',{staticClass:\"text\",class:_vm.detevas==true?'deteva':'',on:{\"click\":function($event){return _vm.deteva(1)}}},[_vm._v(\"用户评价\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detevanum==0),expression:\"detevanum==0\"}],staticClass:\"det detevabox\"},[_c('div',{staticClass:\"detinfos scorll\",attrs:{\"id\":\"infos-cont\"},domProps:{\"innerHTML\":_vm._s(_vm.goodsinfo.goods_info.goods_contents)}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detevanum==1),expression:\"detevanum==1\"}],staticClass:\"eva detevabox\"},[_c('div',{staticClass:\"evainfos scorll\"},[_c('ul',{staticClass:\"evalist\"},_vm._l((_vm.eva),function(item,index){return _c('li',{key:index,staticClass:\"evali\"},[_c('div',{staticClass:\"evali-left\"},[( item.user.bd_headimg)?_c('div',{staticClass:\"mainpic\",style:({backgroundImage: 'url(' +_vm.httpUrl+ item.user.bd_headimg+ ')',\n              backgroundSize:'cover',\n              backgroundRepeat: 'no-repeat',\n              backgroundPosition:'center'\n               })}):_c('div',{staticClass:\"mainpic\",style:({backgroundImage: 'url(' +_vm.httpUrl+  item.user.user_image+ ')',\n              backgroundSize:'cover',\n              backgroundRepeat: 'no-repeat',\n              backgroundPosition:'center'\n               })})]),_vm._v(\" \"),_c('div',{staticClass:\"evali-right\"},[(item.user.user_name)?_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.user.user_name))]):_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.user.user_nickname))]),_vm._v(\" \"),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(item.created_time))]),_vm._v(\" \"),_c('p',{staticClass:\"cont\",class:_vm.styleindex==index?'open':'',domProps:{\"innerHTML\":_vm._s(item.content)},on:{\"click\":function($event){return _vm.isstyle(index)}}}),_vm._v(\" \"),(item.image_url)?_c('div',{staticClass:\"pics\"},_vm._l((item.image_url),function(items,index){return _c('div',{key:index,staticClass:\"slide\"},[_c('div',{staticClass:\"showpic\",style:({backgroundImage: 'url(' +_vm.httpUrl+ items+ ')',\n                      backgroundSize:'cover',\n                      backgroundRepeat: 'no-repeat',\n                  backgroundPosition:'center'\n                   })})])}),0):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"ctype\"},[_c('span',[_vm._v(_vm._s(item.spec))])])])])}),0)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-196872a9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/commoditydetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-196872a9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./commoditydetails.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./commoditydetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./commoditydetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-196872a9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./commoditydetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-196872a9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/commoditydetails.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"evaluate\" v-if=\"close\">\r\n    <div class=\"evaluatebox clearFix\">\r\n      <p class=\"title\">\r\n        <img src=\"../assets/shop/return.png\" alt /> 评价商品\r\n      </p>\r\n      <ul class=\"goodslist\">\r\n        <li class=\"goodsli\">\r\n          <div class=\"goodsinfo\">\r\n            <div\r\n              class=\"mainpic\"\r\n              :style=\"{backgroundImage: 'url(' +httpUrl+goodsinfos.order_img+ ')',\r\n                     backgroundSize:'cover',\r\n                     backgroundRepeat: 'no-repeat',\r\n                     backgroundPosition:'center'\r\n                    }\"\r\n            ></div>\r\n            <div class=\"infos\">\r\n              <p class=\"des\">{{goodsinfos.order_name}}</p>\r\n              <p class=\"num\">\r\n                <span>￥{{goodsinfos.order_price}}</span>\r\n              </p>\r\n              <img src=\"../assets/shop/tb.png\" alt />\r\n              <p class=\"color\">\r\n                <!-- <span>规格{{goodsinfos.oe_format_name}}</span> -->\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <ul class=\"evalist\">\r\n            <li\r\n              class=\"evali\"\r\n              v-for=\"(items, indexs) in goodsinfos.eva\"\r\n              :key=\"indexs\"\r\n              @click=\"changeevali(indexs,items,$event,)\"\r\n              :class=\"{'sel':evaindex==indexs}\"\r\n              :data-indexs=\"indexs\"\r\n            >{{items.title}}</li>\r\n          </ul>\r\n          <div class=\"ipteva\">\r\n            <textarea\r\n              @blur=\"regtext(something)\"\r\n              placeholder=\"亲，写点评价吧，你的评价对其他买家有很大帮助的。\"\r\n              v-model=\"something\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"uploadimg\">\r\n            <van-uploader\r\n              v-model=\"fileList\"\r\n              :before-delete=\"beforedelete\"\r\n              :after-read=\"afterRead\"\r\n              multiple\r\n              :max-count=\"2\"\r\n            />\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <p class=\"send\" @click=\"send\">发表评价</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"evaluate\",\r\n  data() {\r\n    return {\r\n      something: \"\",\r\n      evaindex: 0,\r\n      // evaindex: new Array(this.goodsinfos.length).fill(0),\r\n      fileList: [],\r\n      headimg: [\"\", \"\"],\r\n      radio: 3\r\n    };\r\n  },\r\n  props: {\r\n    goodsinfos: {\r\n      type: Object\r\n    },\r\n    close: {\r\n      type: String,\r\n      default: \"false\"\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    changeevali(indexs, items, e) {\r\n      this.evaindex = indexs;\r\n      this.radio = items.num;\r\n      // console.log(this.radio);\r\n\r\n      this.$forceUpdate();\r\n    },\r\n    beforedelete(detail, index) {\r\n      console.log(index.index);\r\n      this.headimg[index.index] = \"\";\r\n      console.log(this.headimg);\r\n      return true;\r\n    },\r\n    afterRead(file) {\r\n      file.status = \"success\";\r\n      file.message = \"上传成功\";\r\n      let data = new FormData();\r\n      data.append(\"file\", file.file);\r\n      this.$axios.post(\"/index/api/uploadPet\", data).then(res => {\r\n        console.log(res);\r\n        if (this.headimg[0] == \"\") {\r\n          this.headimg[0] = res.data;\r\n        } else if ((this.headimg[1] = res.data)) {\r\n          this.headimg[1] = res.data;\r\n        }\r\n        console.log(this.headimg);\r\n      });\r\n    },\r\n    regtext(text) {\r\n      let regwords = text.replace(/<\\/?[^>]*>/g, \"\");\r\n      this.something = regwords;\r\n    },\r\n    send() {\r\n      console.log(this.radio);\r\n\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"提示\",\r\n          message: \"是否立即评价\"\r\n        })\r\n        .then(() => {\r\n          let img = this.headimg.join(\",\"),\r\n            goodsid = [];\r\n          console.log(this.something, img, this.radio);\r\n\r\n          for (\r\n            let i = 0, length = this.goodsinfos.goods.length;\r\n            i < length;\r\n            i++\r\n          ) {\r\n            goodsid.push(this.goodsinfos.goods[i].oe_goods_id);\r\n          }\r\n          goodsid = goodsid.join(\",\");\r\n          console.log(goodsid);\r\n\r\n          this.$axios\r\n            .post(\"/index/user/commentList\", {\r\n              userId: this.userid,\r\n              goods_id: this.goodsinfos.oe_goods_id,\r\n              order_id: this.goodsinfos.oderid,\r\n              star: this.radio,\r\n              content: this.something,\r\n              image: img\r\n            })\r\n            .then(res => {\r\n              console.log(res);\r\n              if ((res.data.code = 200)) {\r\n                this.$toast.success(\"评价成功!\");\r\n                setTimeout(() => {\r\n                  this.$emit(\"close\", false);\r\n                }, 500);\r\n              } else {\r\n                this.$toast.fail(\"提交失败\");\r\n                setTimeout(() => {\r\n                  this.$emit(\"close\", false);\r\n                }, 500);\r\n              }\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$toast.fail(\"取消评价\");\r\n        });\r\n\r\n      console.log(this.headimg, this.evaindex, this.something);\r\n\r\n      // this.$emit(\"close\", false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.evaluate {\r\n  width: 100%;\r\n  height: 100%;\r\n  .evaluatebox {\r\n    width: 100%;\r\n    background: rgba(255, 255, 255, 1);\r\n    margin: 50px auto;\r\n    box-sizing: border-box;\r\n    padding: 30px 25px;\r\n    .title {\r\n      box-sizing: border-box;\r\n      padding-bottom: 15px;\r\n      font-size: 30px;\r\n      color: rgba(51, 51, 51, 1);\r\n      border-bottom: 1px solid rgba(228, 228, 228, 1);\r\n      img {\r\n        width: 15px;\r\n        padding-right: 10px;\r\n        position: relative;\r\n        bottom: 1px;\r\n      }\r\n    }\r\n    .goodslist {\r\n      width: 100%;\r\n      .goodsli {\r\n        width: 100%;\r\n        padding: 30px 0;\r\n        border-bottom: 1px solid #cccccc;\r\n        &:last-child {\r\n          border: none;\r\n        }\r\n        .goodsinfo {\r\n          width: 100%;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          box-sizing: border-box;\r\n          padding-bottom: 35px;\r\n          border-bottom: 1px solid #cccccc;\r\n          .mainpic {\r\n            width: 30%;\r\n            height: 178px;\r\n          }\r\n          .infos {\r\n            width: 65%;\r\n            .des {\r\n              width: 100%;\r\n              line-height: 35px;\r\n            }\r\n            .num {\r\n              box-sizing: border-box;\r\n              padding: 10px 0 30px 0;\r\n              width: 100%;\r\n              display: flex;\r\n              justify-content: space-between;\r\n            }\r\n            .color {\r\n              box-sizing: border-box;\r\n              padding-top: 10px;\r\n            }\r\n          }\r\n        }\r\n        .evalist {\r\n          box-sizing: border-box;\r\n          padding-top: 50px;\r\n          width: 100%;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          .evali {\r\n            width: 31%;\r\n            height: 55px;\r\n            text-align: center;\r\n            line-height: 55px;\r\n            color: #333333;\r\n            font-size: 23px;\r\n            border: 1px solid rgba(210, 210, 210, 1);\r\n          }\r\n          .sel {\r\n            border: 1px solid #2482c8;\r\n            background: #2482c8;\r\n            color: white;\r\n          }\r\n        }\r\n        .ipteva {\r\n          // background: brown;\r\n          box-sizing: border-box;\r\n          margin: 25px 0;\r\n          width: 100%;\r\n          height: 280px;\r\n\r\n          textarea {\r\n            width: 100%;\r\n            height: 100%;\r\n            box-sizing: border-box;\r\n            padding: 10px 10px;\r\n            border: 1px solid rgba(236, 236, 236, 1);\r\n            border-radius: 10px;\r\n            resize: none;\r\n            &::placeholder {\r\n              color: #999999;\r\n              font-size: 20px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .send {\r\n      width: 100%;\r\n      height: 70px;\r\n      color: white;\r\n      background: #eb0028;\r\n      font-size: 24px;\r\n      text-align: center;\r\n      line-height: 70px;\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/evaluate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.close)?_c('div',{staticClass:\"evaluate\"},[_c('div',{staticClass:\"evaluatebox clearFix\"},[_vm._m(0),_vm._v(\" \"),_c('ul',{staticClass:\"goodslist\"},[_c('li',{staticClass:\"goodsli\"},[_c('div',{staticClass:\"goodsinfo\"},[_c('div',{staticClass:\"mainpic\",style:({backgroundImage: 'url(' +_vm.httpUrl+_vm.goodsinfos.order_img+ ')',\n                   backgroundSize:'cover',\n                   backgroundRepeat: 'no-repeat',\n                   backgroundPosition:'center'\n                  })}),_vm._v(\" \"),_c('div',{staticClass:\"infos\"},[_c('p',{staticClass:\"des\"},[_vm._v(_vm._s(_vm.goodsinfos.order_name))]),_vm._v(\" \"),_c('p',{staticClass:\"num\"},[_c('span',[_vm._v(\"￥\"+_vm._s(_vm.goodsinfos.order_price))])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../assets/shop/tb.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"color\"})])]),_vm._v(\" \"),_c('ul',{staticClass:\"evalist\"},_vm._l((_vm.goodsinfos.eva),function(items,indexs){return _c('li',{key:indexs,staticClass:\"evali\",class:{'sel':_vm.evaindex==indexs},attrs:{\"data-indexs\":indexs},on:{\"click\":function($event){return _vm.changeevali(indexs,items,$event)}}},[_vm._v(_vm._s(items.title))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"ipteva\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.something),expression:\"something\"}],attrs:{\"placeholder\":\"亲，写点评价吧，你的评价对其他买家有很大帮助的。\"},domProps:{\"value\":(_vm.something)},on:{\"blur\":function($event){return _vm.regtext(_vm.something)},\"input\":function($event){if($event.target.composing){ return; }_vm.something=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"uploadimg\"},[_c('van-uploader',{attrs:{\"before-delete\":_vm.beforedelete,\"after-read\":_vm.afterRead,\"multiple\":\"\",\"max-count\":2},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})],1)])]),_vm._v(\" \"),_c('p',{staticClass:\"send\",on:{\"click\":_vm.send}},[_vm._v(\"发表评价\")])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":require(\"../assets/shop/return.png\"),\"alt\":\"\"}}),_vm._v(\" 评价商品\\n    \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54bc3890\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/evaluate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54bc3890\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./evaluate.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./evaluate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./evaluate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54bc3890\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./evaluate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54bc3890\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/evaluate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}